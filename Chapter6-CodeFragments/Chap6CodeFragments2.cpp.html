<pre>// Chap6CodeFragments.cpp

#include &lt;iostream&gt;
#include "../Display/Display.h"

/*-----------------------------------------
   Classes used for Template Parameters
*/
class P0 {
public:
  void doProc() {
    std::cout &lt;&lt; "\n  doing P0 processing";
  }
};

class Q0 {
public:
  void doProc() {
    std::cout &lt;&lt; "\n  doing Q0 processing";
  }
};

class P1 {
public:
  void doProc() {
    std::cout &lt;&lt; "\n  doing P1 processing";
  }
};

class Q1 {
public:
  void doProc() {
    std::cout &lt;&lt; "\n  doing Q1 processing";
  }
};

/*-----------------------------------------
   Class used for generic operations
*/
template&lt;typename P = P0, typename Q = Q0&gt;
class X {
public:
  X() {
    std::cout &lt;&lt; "\n  Generic X Template";
  }
  void doProc() {
    p_.doProc();
    q_.doProc();
  }
private:
  P p_;
  Q q_;
};
/*-----------------------------------------
   Class specialized to use Q1
*/
template&lt;typename P&gt;
class X&lt;P, Q1&gt; {
public:
  X() {
    std::cout &lt;&lt; 
      "\n  X partially specialized for Q1";
  }
  void doProc() {
    p_.doProc();
    q_.doProc();
  }
private:
  P p_;
  Q1 q_;
};
/*-----------------------------------------
   Class specialized to use P1
*/
template&lt;typename Q&gt;
class X&lt;P1, Q&gt; {
public:
  X() {
    std::cout &lt;&lt; 
      "\n  X partially specialized for P1";
  }
  void doProc() {
    p_.doProc();
    q_.doProc();
  }
private:
  P1 p_;
  Q q_;
};
/*-----------------------------------------
  Class fully specialized to use P1 and Q1
*/
template&lt;&gt;
class X&lt;P1, Q1&gt; {
public:
  X() {
    std::cout &lt;&lt; 
      "\n  X fully specialized for P1 &amp; Q1";
  }
  void doProc() {
    p_.doProc();
    q_.doProc();
  }
private:
  P1 p_;
  Q1 q_;
};

int main() {

  displayDemo("-- generic processing --");
  X&lt;P0, Q0&gt; x1;
  x1.doProc();

  displayDemo(
    "\n  -- using default template args --"
  );
  X&lt;&gt; x2;
  x2.doProc();

  displayDemo(
    "\n  -- Using full specializ'n --"
  );
  X&lt;P1, Q1&gt; x3;
  x3.doProc();

  displayDemo(
    "\n  -- Using specializ'n for P1 --"
  );
  X&lt;P1, Q0&gt; x4;
  x4.doProc();

  displayDemo(
    "\n  -- Using specializ'n for Q1 --"
  );
  X&lt;P0, Q1&gt; x5;
  x5.doProc();

  putline(2);
}
</pre>