<pre>#pragma once
//////////////////////////////////////////////////////////////
// Timer.h
//
// Very minor modifications to:
//   https://gist.github.com/mcleary/b0bf4fa88830ff7c882d
//

#include &lt;chrono&gt;
#include &lt;ctime&gt;
#include &lt;cmath&gt;

class Timer
{
public:
  void start()
  {
    m_StartTime = std::chrono::system_clock::now();
    m_bRunning = true;
  }

  void stop()
  {
    m_EndTime = std::chrono::system_clock::now();
    m_bRunning = false;
  }

  double elapsedMicroseconds()
  {
    std::chrono::time_point&lt;std::chrono::system_clock&gt; endTime;

    if (m_bRunning)
    {
      endTime = std::chrono::system_clock::now();
    }
    else
    {
      endTime = m_EndTime;
    }

    return std::chrono::duration_cast&lt;std::chrono::microseconds&gt;(
      endTime - m_StartTime
    ).count();
  }

  double elapsedMilliseconds()
  {
    return elapsedMicroseconds() / 1000.0;
  }

private:
  std::chrono::time_point&lt;std::chrono::system_clock&gt; m_StartTime;
  std::chrono::time_point&lt;std::chrono::system_clock&gt; m_EndTime;
  bool m_bRunning = false;
};
</pre>