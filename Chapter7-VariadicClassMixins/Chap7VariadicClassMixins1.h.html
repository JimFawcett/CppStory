<pre>#pragma once
/////////////////////////////////////////////////////////////////
// Chap7VariadicClassMixins.cpp - demonstrates variadic mixins //
//                                                             //
// Jim Fawcett, CSE687 - Object Oriented Design, Spring 2018   //
/////////////////////////////////////////////////////////////////

#include &lt;iostream&gt;

namespace Chap7 {

  class A {
  public:
    A() { std::cout &lt;&lt; "\n  an A here"; }
    A(const A&amp; a) { std::cout &lt;&lt; "\n  copy A here"; }
    virtual ~A() {}
  };

  class B {
  public:
    B() { std::cout &lt;&lt; "\n  a B here"; }
    B(const B&amp; b) { std::cout &lt;&lt; "\n  copy B here"; }
    virtual ~B() {}
  };

  class C {
  public:
    C() { std::cout &lt;&lt; "\n  a C here"; }
    C(const C&amp; c) { std::cout &lt;&lt; "\n  copy C here"; }
    virtual ~C() {}
    void do_C_op() { std::cout &lt;&lt; "\n  doing C's operation"; }
  };

  template&lt;typename... Mixins&gt;
  class D : public Mixins...
  {
  private:
    bool hasMixins = false;
  public:
    // D() fails to compile because same as D(const Mixins&amp; ... mixins)
    // when there are no mixins
    // D() { std::cout &lt;&lt; "\n  a D here"; }
    D(const Mixins&amp; ... mixins) : Mixins(mixins)... {
      if (sizeof...(mixins) == 0)
        std::cout &lt;&lt; "\n  a D here";
      else
      {
        hasMixins = true;
        std::cout &lt;&lt; "\n  copy D here";
      }
    }
    virtual ~D() {}
    void say()
    {
      if (!hasMixins)
        std::cout &lt;&lt; "\n  class D with no mixins here";
      else
        //std::cout &lt;&lt; "\n  class D with mixins here";
        std::cout &lt;&lt; "\n  " &lt;&lt; typeid(this).name();
      //std::cout &lt;&lt; "\n  " &lt;&lt; typeid(this).raw_name();
      C* pC = dynamic_cast&lt;C*&gt;(this);
      if (pC)
        pC-&gt;do_C_op();
      std::cout &lt;&lt; "\n";
    }
  };
}
</pre>